<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>[Ar House]Предварительный просмотр</title>

    <!-- CSS -->
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.1/animate.min.css}" integrity="sha512-E5hbw9GiuYofTcrbba1gAU64dn/54A9nmk4IEMzmp+YmiLc0WnRLOfzofb/r6spu5CVilyob07HWGhXq7Ht7dQ==" crossorigin="anonymous" />
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css}" integrity="sha512-Nep6azRFo4niNmQ/2gCnsDcS4IP3nF77+M3jNv9YwxZPGenftLY0V6KyRaqw4T4fjlpSeqAhCQQBgrOJ+rmB8g==" crossorigin="anonymous" />
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css}" integrity="sha512-pK8UgvxxMzhXcXUsJeVp3z8GjD3oaIDCsiyf4SnCZk8yV7YEnaoE2Cl3YT9L92/9oe2vJJYSJUzlTraGIl/MNQ==" crossorigin="anonymous" />
    <link rel="stylesheet" th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css}" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
    <link rel="stylesheet" th:href="@{../css/style.css}" />
</head>

<body>
<div class="preloader">
    <div class="layer"></div>
    <div class="inner">
        <figure><img th:src="@{../images/template/preloader.gif}" alt="Image"></figure>
        <p>
            <span class="text-rotater" data-text="AR House | Loading">Loading</span></p>
    </div>
</div>

<div class="transition-overlay">
    <div class="layer"></div>
</div>

<div class="side-navigation">
    <div class="menu">
        <ul>
            <li><a th:href="@{/arhouse.arh}">ГЛАВНАЯ</a></li>
            <li><a th:href="@{/arhouse.arh/request}">ЗАКАЗАТЬ ПРОЕКТ</a></li>
            <li><a th:href="@{/arhouse.arh/preview}">ПРОСМОТР</a></li>
            <li><a th:href="@{/arhouse.arh/projects}">НАШИ ПРОЕКТЫ</a></li>
            <li><a th:href="@{/arhouse.arh/contact}">О НАС</a></li>
        </ul>
    </div>

    <div class="side-content">
        <figure>
            <img th:src="@{../images/template/logo.png}" alt="Image">
        </figure>
        <p>Стремясь поднять качество жизни на более высокий уровень с помощью всех реализованных проектов,
            ARHouse продолжает оставаться адресом роскоши.</p>
        <ul class="gallery">
            <li><a th:href="@{../images/template/gallery-thumb01.jpg}" data-fancybox>
                <img th:src="@{../images/template/gallery-thumb01.jpg}" alt="Image"></a></li>
            <li><a th:href="@{../images/template/gallery-thumb02.jpg}" data-fancybox>
                <img th:src="@{../images/template/gallery-thumb02.jpg}" alt="Image"></a></li>
            <li><a th:href="@{../images/template/gallery-thumb03.jpg}" data-fancybox>
                <img th:src="@{../images/template/gallery-thumb03.jpg}" alt="Image"></a></li>
        </ul>
        <address>
            Белгород, ул. Костюкова, 44<br>
            Москва, ул. Ленина, 17
        </address>
        <h6>+7(982)298-59-73</h6>
        <p><a href="#">andrei.99@yandex.ru</a></p>
        <small>© 2021 ARHouse</small>
    </div>
</div>

<nav class="navbar">
    <div class="container">
        <div class="upper-side">
            <div class="logo">
                <a th:href="@{/arhouse.arh}"><img th:src="@{../images/template/logo.png}" alt="Image"></a>
            </div>

            <div class="phone-email"> <img th:src="@{../images/template/icon-phone.png}" alt="Image">
                <h4>+7(982)298-59-73</h4>
                <small><a href="#">andrei.99@yandex.ru</a></small>
            </div>

            <div class="hamburger"> <span></span> <span></span> <span></span><span></span>
            </div>
        </div>

        <div class="menu">
            <ul>
                <li><a th:href="@{/arhouse.arh}">ГЛАВНАЯ</a></li>
                <li><a th:href="@{/arhouse.arh/request}">ЗАКАЗАТЬ ПРОЕКТ</a></li>
                <li><a th:href="@{/arhouse.arh/preview}">ПРОСМОТР</a></li>
                <li><a th:href="@{/arhouse.arh/projects}">НАШИ ПРОЕКТЫ</a></li>
                <li><a th:href="@{/arhouse.arh/contact}">О НАС</a></li>
            </ul>
        </div>
    </div>
</nav>

<header class="page-header" data-stellar-background-ratio="1.15">
    <div class="container">
        <h1 style="color: #ebcfa7">Расчёт пространства помещения</h1>
        <p>Ремонт без проекта – это бессмысленная трата нервов, времени и денег. А если сложить их вместе, то вопрос «Нужен ли проект?» отпадает сам собой.</p>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a th:href="@{/arhouse.arh}">Главная</a></li>
            <li class="breadcrumb-item active" aria-current="page">Калькулятор</li>
        </ol>
    </div>
</header>

<section class="calculator">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-12">
                <div class="calculator-form">
                    <form method="GET" id="calculator">
                        <div id="parentId">
                            <div class="form-group col-lg-4">
                                <label for="count"></label><input type="number" id="count" th:value="1" th:min="1" th:max="5" onchange="onChange()">
                                <span>Количество комнат</span>
                                <hr>
                            </div>
                            <div id="div-input-1">
                                <div class="form-group">
                                    <p style="margin-bottom:0;">————— Комната №1 —————</p>
                                    <div class="inline">
                                        <label for="name-input-1-1"></label>
                                        <input id="name-input-1-1" type="number" min="1" max="5" placeholder="Длина" required />
                                    </div>
                                    <div class="inline">
                                        <label for="name-input-1-2"></label>
                                        <input id="name-input-1-2" type="number" min="1" max="5" placeholder="Ширина" required />
                                    </div>
                                    <div class="inline">
                                        <label for="name-input-1-3"></label>
                                        <input id="name-input-1-3" type="number" min="1" max="5" placeholder="Высота" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <button id="submit" type="submit" onclick="return calculatorInputs()" name="submit">Расчитать</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="footer-bar">
    <div class="container">
        <div class="inner wow fadeIn">
            <div class="row">
                <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.05s">
                    <figure>
                        <img th:src="@{../images/template/footer-icon01.png}" alt="Image">
                    </figure>
                    <h3>Контактная информация</h3>
                    <p>Белгород | ул. Костюкова, 44<br>Москва | ул. Ленина, 17</p>
                </div>

                <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.10s">
                    <figure>
                        <img th:src="@{../images/template/footer-icon02.png}" alt="Image">
                    </figure>
                    <h3>Рабочее время</h3>
                    <p>С ПН по Пт с <strong>09:00</strong> до <strong>18:30</strong><br>В СБ мы работаем до <strong>15:30</strong></p>
                </div>

                <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.15s">
                    <figure>
                        <img th:src="@{../images/template/footer-icon03.png}" alt="Image">
                    </figure>
                    <h3>Офис продаж</h3>
                    <p>Leroy Merlin<br>Москва, ул. Шаболовка, 31, стр. 1</p>
                </div>
            </div>
        </div>
    </div>
</section>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 wow fadeInUp" data-wow-delay="0.05s">
                <img th:src="@{../images/template/logo.png}" alt="Image" class="logo">
                <p>Стремясь поднять качество жизни на более высокий уровень с помощью всех реализованных проектов,
                    ARHouse продолжает оставаться адресом роскоши.</p>
            </div>

            <div class="col-lg-3 wow fadeInUp" data-wow-delay="0.15s">
                <ul class="footer-menu">
                    <li><a th:href="@{/arhouse.arh/rules}">ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ</a></li>
                    <li><a th:href="@{/arhouse.arh/authorization}">ДЛЯ РАБОТНИКОВ</a></li>
                </ul>
            </div>

            <div class="col-lg-3 wow fadeInUp" data-wow-delay="0.25s">
                <ul class="footer-menu">
                    <li><a th:href="@{/arhouse.arh}">ГЛАВНАЯ</a></li>
                    <li><a th:href="@{/arhouse.arh/request}">ЗАКАЗАТЬ ПРОЕКТ</a></li>
                    <li><a th:href="@{/arhouse.arh/preview}">ПРОСМОТР</a></li>
                    <li><a th:href="@{/arhouse.arh/projects}">НАШИ ПРОЕКТЫ</a></li>
                    <li><a th:href="@{/arhouse.arh/contact}">О НАС</a></li>
                </ul>
            </div>

            <div class="col-lg-3 wow fadeInUp" data-wow-delay="0.35s">
                <div class="contact-box">
                    <h5>Центр поддержки</h5>
                    <h3>+7(982)298-59-73</h3>
                    <p><a href="#">andrei.99@yandex.ru</a></p>
                    <div class="footer-subscribe">
                        <div class="subscribe-form">
                            <form id="mc-form" class="group">
                                <input type="email" value="" name="dEmail" class="email" id="mc-email" placeholder="@-mail" required="">
                                <input type="submit" name="subscribe">
                                <label for="mc-email" class="subscribe-message"></label>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <span class="copyright">© 2021 ARHouse</span>
                <span class="creation">Site created by Andrew</span>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript">
    let newCountInput = 0;
    let countInput = document.getElementById("count");
    let currnetCountInput = countInput.value;

    document.getElementById('count').onkeypress = function (e) {
        return false;
    }

    function onChange() {
        if (document.getElementById("div-result-1"))
            document.getElementById("div-result-1").remove();
        if (document.getElementById("div-result-2"))
            document.getElementById("div-result-2").remove();
        if (document.getElementById("div-result-3"))
            document.getElementById("div-result-3").remove();
        if (document.getElementById("div-result-4"))
            document.getElementById("div-result-4").remove();
        if (document.getElementById("div-result-5"))
            document.getElementById("div-result-5").remove();

        newCountInput = countInput.value;

        if (currnetCountInput < newCountInput) {
            let addInput = newCountInput - currnetCountInput;

            for (let i = addInput; i > 0; i--) {
                let div = document.createElement("div"); // Создаем элемент div
                div.id = "div-input-" + newCountInput;
                div.innerHTML =
                    "<div class='form-group'>" +
                        "<p>————— Комната №" + newCountInput + " —————</p>" +
                        "<div class='inline'>" +
                            "<label for='name-input-" + newCountInput + "-1'></label>" +
                            "<input id='name-input-" + newCountInput + "-1' type='number' min='1' max='5' placeholder='Длина' required />" +
                        "</div>" +
                        "<div class='inline'>" +
                            "<label for='name-input-" + newCountInput + "-2'></label>" +
                            "<input id='name-input-" + newCountInput + "-2' type='number' min='1' max='5' placeholder='Ширина' required/>" +
                        "</div>" +
                        "<div class='inline'>" +
                            "<label for='name-input-" + newCountInput + "-3'></label>" +
                            "<input id='name-input-" + newCountInput + "-3' type='number' min='1' max='5' placeholder='Высота' />" +
                        "</div>" +
                    "</div>";
                document.getElementById("parentId").appendChild(div);
            }
            currnetCountInput = newCountInput;
        } else {
            for (let i = currnetCountInput; i > newCountInput; i--) {
                let delId = "#div-input-" + i;
                document.querySelector(delId).remove();
            }
            currnetCountInput = newCountInput;
        }
    }

    function calculatorInputs() {
        if (document.getElementById("div-result-1"))
            document.getElementById("div-result-1").remove();
        if (document.getElementById("div-result-2"))
            document.getElementById("div-result-2").remove();
        if (document.getElementById("div-result-3"))
            document.getElementById("div-result-3").remove();
        if (document.getElementById("div-result-4"))
            document.getElementById("div-result-4").remove();
        if (document.getElementById("div-result-5"))
            document.getElementById("div-result-5").remove();

        let num1, num2, num3;
        let checkNum1 , checkNum2, checkNum3;
        let numId = "";

        for (let i = 1; i <= currnetCountInput; i++) {
            checkNum1 = 0;
            checkNum2 = 0;
            checkNum3 = 0;

            for (let j = 1; j < 4; j++) {
                numId = "#name-input-" + i + "-" + j;

                if (j === 1) {
                    num1 = document.querySelector(numId).value;
                    checkNum1 = 1;
                }
                if (j === 2) {
                    num2 = document.querySelector(numId).value;
                    checkNum2 = 1;
                }
                if (j === 3) {
                    num3 = document.querySelector(numId).value;
                    checkNum3 = 1;
                }

                if (checkNum1 === 1 && checkNum2 === 1 && checkNum3 === 1) {
                    let s = num1 * num2;
                    let v = num1 * num2 * num3;
                    let sum = 0;

                    if (num3 !== "")
                        sum = 750 * v;
                    else
                        sum = 750 * s;

                    let div = document.createElement("div"); // Создаем элемент div
                    div.id = "div-result-" + i;

                    if (num1 !== "" || num2 !== "")
                        if (num3 !== "") {
                            div.innerHTML =
                                "<div class='form-group'>" +
                                "<p>————— Комната №" + i + " —————</p>" +
                                "<div>" +
                                "<p>Площадь комнаты: " + s + "m². Пространство помещения: " + v + " m³. Примерная стоимость: " + sum + " руб.</p>" +
                                "</div>" +
                                "</div>";
                        } else {
                            div.innerHTML =
                                "<div class='form-group'>" +
                                "<p>————— Комната №" + i + " —————</p>" +
                                "<div>" +
                                "<p>Площадь комнаты: " + s + " m². Примерная стоимость: " + sum + " руб.</p>" +
                                "</div>" +
                                "</div>";
                        }
                    document.getElementById("parentId").appendChild(div);
                }
            }
        }
        return false;
    }
</script>

<!-- JS -->
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js}" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
<script th:src="@{https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js}" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/js/swiper.min.js}" integrity="sha512-vKtlh10whXT2NhAshnxhceCdwq/bMyMrfeZ3p2IaF89qGCwbC94ATb7Qyg8cFs8EL3Hgz9bJBF++ZWfKn4ligg==" crossorigin="anonymous"></script>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js}" integrity="sha512-br+5V7meYazs+fixQjeb6e9czNwROtwV4swuqC35eEew1hqR4Ze4+osakG0UQsT3SkegXHtN/u5tdgeZOKaPsw==" crossorigin="anonymous"></script>
<script th:src="@{https://atuin.ru/demo/wow/wow.min.js}"></script>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js}" integrity="sha512-PNXCBnFH9wShbV+mYnrfo0Gf3iSREgBWmYAoMIfc+Z83vVq3Nu4yxBk6j+BZ40ZIhtW3WlTQdBvW3AYLAnlgpA==" crossorigin="anonymous"></script>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js}" integrity="sha512-Zq2BOxyhvnRFXu0+WE6ojpZLOU2jdnqbrM1hmVdGzyeCa1DgM3X5Q4A/Is9xA1IkbUeDd7755dNNI/PzSf2Pew==" crossorigin="anonymous"></script>
<script th:src="@{../js/template/script.js}"></script>
</body>
</html>